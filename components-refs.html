<!doctype html>
<html lang="en">
<head>
<title>idyll-lang.github</title>
<meta charset="utf-8">

<link rel="stylesheet" href="/bundle.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/style.css">
<link rel="icon" type="image/x-icon" href="images/favicon.ico">
</head>
<body>
<div id="choo-root" class="minidocs">
    <div class="_2bbb10f8 minidocs-sidebar">
    <div class="minidocs-header">
      <h1><a href="/"><img src="/logo-text.svg" alt="idyll-lang.github" class="minidocs-logo" /></a></h1>
    </div>
    <div class="_689fec56 minidocs-contents">
    <button class="minidocs-menu-toggle">Menu</button>
    <div class="minidocs-menu menu-closed menu-small">
      <div class="minidocs-menu-wrapper">
        <div class="h1">Overview</div><div><a href="/introduction" class="content-link ">Introduction</a></div><div><a href="/getting-started" class="content-link ">Getting started</a></div><div><a href="/syntax" class="content-link ">Syntax</a></div><div><a href="/configuration-and-styles" class="content-link ">Configuration and styles</a></div><div class="h1">Components</div><div><a href="/components-overview" class="content-link ">Overview</a></div><div><a href="/components-built-in" class="content-link ">Built-in components</a></div><div><a href="/components-custom" class="content-link ">Custom components</a></div><div><a href="/components-refs" class="content-link active">Refs</a></div><div class="h1">Publishing</div><div><a href="/publishing-deploying-to-the-web" class="content-link ">Deploying to the web</a></div><div class="h1">Open Source</div><div><a href="/open-source-github" class="content-link ">GitHub</a></div>
      </div>
    </div>
  </div>
  </div>
    <div class="_571b6797 minidocs-main">
      <div class="markdown-body">
        <div class="_3f4b1fbc minidocs-content">
    
    
    <div><h1 id="refs"><a href="#refs" class="anchor"></a>Refs</h1><p>Idyll exposes the <code>ref</code> property to allow you to refer to specific components in
property expressions.</p>
<pre><code>[<span class="hljs-name">Component</span> ref:<span class="hljs-string">"thisComponent"</span> propName:`refs.thisComponent`  /]
</code></pre><p>The ref property allows you to update the state of one component based on properties of another. Idyll
provides some utilities automatically, for example keeping track of the position
of a component on the page, and how far through a component&#39;s content the reader has
scrolled.</p>
<p>Each ref object has the following properties:</p>
<pre><code class="lang-js">{
  <span class="hljs-attr">domNode</span>: node,
  <span class="hljs-attr">scrollProgress</span>: {
    <span class="hljs-attr">x</span>: number,
    <span class="hljs-attr">y</span>: number
  },
  <span class="hljs-attr">size</span>: {
    <span class="hljs-attr">x</span>: number,
    <span class="hljs-attr">y</span>: number
  },
  <span class="hljs-attr">position</span>: {
    <span class="hljs-attr">left</span>: number,
    <span class="hljs-attr">top</span>: number,
    <span class="hljs-attr">right</span>: number,
    <span class="hljs-attr">bottom</span>: number
  }
}
</code></pre>
<p>For example:</p>
<pre><code>[section ref:<span class="hljs-string">'section'</span> style:`{ opacity: <span class="hljs-number">1</span> - refs.section.scrollProgress.y }`]

Lorem ipsum...
...
lots <span class="hljs-keyword">of</span> text here
...

[/section]
</code></pre><p>The above code will create a section of text that fades out as the user scrolls to the bottom of it.
<code>scrollProgress.y</code> in this case is a value from 0 to 1 that Idyll automatically computes,
providing the percentage that a user has scrolled through a certain component.</p>
<p>You&#39;ve leared all about Idyll! All that&#39;s left is <a href="/publishing-deploying-to-the-web">deploying you project to the web</a>.</p>
</div>
  </div>
      </div>
    </div>
  </div>
<script src="/bundle.js"></script>
</body>
</html>
